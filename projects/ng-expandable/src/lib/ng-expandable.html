<button
  (click)="handleExpansion()"
  [id]="expandableBtnId()"


  class="expandable__button"
  [class.expanded]="isExpanded()"

  [tabIndex]="tabIndex()"
  [attr.aria-expanded]="isExpanded()"
  [attr.aria-controls]="expandableContentId()"
>

  <span>{{label()}}</span>

  @if (iconType() === 'arrow') {
    <svg
      xmlns="http://www.w3.org/2000/svg"
      aria-hidden="true" focusable="false"
      width="1.1rem" height="1.1rem"
      viewBox="320 -720 296 480"
      class="expandable__arrow"
      [class.expanded]="isExpanded()"
    >
      <g transform="rotate(-90 468 -480)">
        <path d="M560-240 320-480l240-240 56 56-184 184 184 184-56 56Z"/>
      </g>
    </svg>
  }

  @if (iconType() === 'plus') {
    <svg xmlns="http://www.w3.org/2000/svg"
      height="1.1rem" width="1.1rem"
      viewBox="76 -756 808 680"
      aria-hidden="true" focusable="false"
      class="expandable__plus"
      [class.expanded]="isExpanded()"
    >
      <path d="M417-86v-331H86v-126h331v-331h126v331h331v126H543v331H417Z"/>
    </svg>
  }

</button>

<section
  [id]="expandableContentId()"

  class="expandable__expansor"
  [style.height]="isExpanded() ? contentHeight() + 'px' : '0px'"

  role="region"
  [attr.aria-labelledby]="expandableBtnId()"
  [attr.inert]="!isExpanded() ? '' : null"
>
  <div #content class="expandable__content">
    <ng-content/>
  </div>
</section>

<div class="rateContainer">

  @for (item of itemsAverages(); track $index) {

    @if(readOnly()) {

      @if(icon() === 'star') {
        <rate-star [itemPercentage]="item" />
      }@else if(icon() === 'heart') {
        <rate-heart [itemPercentage]="item" />
      }

    }@else {
      <button
        class="rateItemButton"
        (mouseenter)="setVote($index)"
        (mouseleave)="cancelVote()"
        (click)="sendVote()"
        (focus)="setVote($index)"
        (blur)="cancelVote()"
        (keydown.enter)="sendVote()"
        (keydown.space)="sendVote()"
      >
        @if(icon() === 'star') {
          <rate-star [itemPercentage]="item" />
        } @else if(icon() === 'heart') {
          <rate-heart [itemPercentage]="item" />
        }
      </button>
    }

  }

</div>


<div
  class="rateContainer"
  [attr.role]="readOnly() ? null : 'radiogroup'"
  [attr.aria-label]="readOnly()
    ? acc().containerReadOnlyAriaLabel
    : acc().containerInteractiveAriaLabel"
>

  @for (item of itemsAverages(); track $index) {

    @if(readOnly()) {

      @if(icon() === 'star') {
        <rate-star [itemPercentage]="item" />
      }@else if(icon() === 'heart') {
        <rate-heart [itemPercentage]="item" />
      }

    }@else {
      <button
        class="rateItemButton hoverEffects"
        role="radio"
        [attr.aria-checked]="currentVote() === $index + 1"
        [attr.aria-label]="acc().buttonInteractiveAriaLabel($index + 1, items())"
        (mouseenter)="setVote($index)"
        (mouseleave)="cancelVote()"
        (click)="sendVote()"
        (focus)="setVote($index)"
        (blur)="cancelVote()"
        (keydown)="onKeydown($event, $index)"
      >
        @if(icon() === 'star') {
          <rate-star [itemPercentage]="item" />
        } @else if(icon() === 'heart') {
          <rate-heart [itemPercentage]="item" />
        }
      </button>
    }

  }

</div>


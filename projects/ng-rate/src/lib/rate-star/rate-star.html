<svg
  xmlns="http://www.w3.org/2000/svg"
  viewBox="0 0 24 24"
  width="100%" height="100%"
>
  <defs>
    <!-- Original Path -->
    <path
      [attr.id]="uniqueId() + 'star'"
      d="M21.96 8.27l-5.92-.9-2.35-5.03c-.29-.62-.92-1.11-1.61-1.11-.7 0-1.32.49-1.61 1.11L8.96 7.37l-5.92.9c-.51.08-.92.43-1.09.94-.16.51-.04 1.07.32 1.45l4.32 4.43-1.02 6.25c-.08.64.2 1.28.83 1.65.63.37 1.46.41 2.13.1l4.12-2.28 4.12 2.28c.21.11.44.17.66.17.28 0 .56-.08.8-.23.63-.37.91-1.01.83-1.65l-1.02-6.25 4.32-4.43c.36-.37.48-.93.32-1.45-.16-.51-.58-.86-1.09-.94z"
    />

    <!-- FILL MASK -->
    <mask [attr.id]="uniqueId() + 'star-fill-mask'">
      <!-- not visible -->
      <rect x="0" y="0" width="24" height="24" fill="black" />
      <!-- visible -->
      <rect
        x="0"
        y="0"
        [attr.width]="itemPercentage() / 100 * 24"
        height="24"
        fill="white"
      />
    </mask>
  </defs>

  <!-- Empty inner layer -->
  <use
    [attr.href]="'#' + uniqueId() + 'star'"
    class="rateIcon__emptyFill"
  ></use>

  <!-- Fill usando mÃ¡scara -->
  <use
    [attr.href]="'#' + uniqueId() + 'star'"
    class="rateIcon__fill"
    [attr.mask]="'url(#' + uniqueId() + 'star-fill-mask)'"
  ></use>

  <!-- Stroke layer -->
  <use
    [attr.href]="'#' + uniqueId() + 'star'"
    class="rateIcon__stroke"
    stroke-width="1.5"
  ></use>
</svg>
